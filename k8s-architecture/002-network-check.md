완벽합니다! 네트워크 팀에게 확인받아야 할 사항들을 정리해드릴게요. 그대로 전달하시거나 참고하시면 됩니다.

---

## 네트워크 팀 확인 요청 사항

### 1. BGP 피어링 관련

| 질문 | 설명 (참고용) |
|------|---------------|
| 쿠버네티스 노드와 ToR 스위치 간 BGP 피어링이 가능한가요? | 각 서버가 ToR 스위치와 직접 BGP 세션을 맺을 수 있는지 |
| 사용 가능한 Private ASN 대역이 있나요? | 쿠버네티스 클러스터용으로 할당받을 ASN 번호 (예: 64512-65534 범위) |
| 노드별로 개별 ASN이 필요한가요, 클러스터 전체가 하나의 ASN을 사용하나요? | 네트워크 정책에 따라 다름 |
| ToR 스위치의 ASN은 무엇인가요? | 피어링 설정에 필요 |
| BFD(Bidirectional Forwarding Detection) 지원이 가능한가요? | 장애 감지 시간 단축용 (선택사항이지만 권장) |

---

### 2. 네트워크 토폴로지 관련

| 질문 | 설명 (참고용) |
|------|---------------|
| 현재 Spine-Leaf 구조가 맞나요? | 네트워크 다이어그램 공유 요청 |
| ECMP(Equal-Cost Multi-Path)가 활성화되어 있나요? | 동일 목적지에 대해 여러 경로로 트래픽 분산 가능 여부 |
| 서버당 NIC 6포트를 어떻게 연결할 계획인가요? | 본딩 구성, LACP, 또는 개별 연결 등 |
| 관리망/서비스망/스토리지망 분리가 되어 있나요? | VLAN 또는 물리적 분리 여부 |

---

### 3. IP 대역 관련

| 질문 | 설명 (참고용) |
|------|---------------|
| 쿠버네티스 API Server VIP로 사용할 IP 1개를 할당받을 수 있나요? | 컨트롤 플레인 접근용 단일 진입점 |
| 쿠버네티스 Service LoadBalancer용 IP 대역을 할당받을 수 있나요? | 외부 노출 서비스용, /24 이상 권장 (예: 10.x.x.0/24) |
| Pod 네트워크용 CIDR을 별도로 할당해야 하나요, 아니면 오버레이로 사용해도 되나요? | Cilium Native Routing vs VXLAN 결정에 영향 |
| 노드 IP 대역은 어떻게 되나요? | 190대 노드에 대한 IP 할당 계획 |

---

### 4. 방화벽/보안 관련

| 질문 | 설명 (참고용) |
|------|---------------|
| 노드 간 통신에 방화벽 제약이 있나요? | 쿠버네티스는 노드 간 다양한 포트 사용 |
| 외부(MinIO, Iceberg 클러스터)와의 통신 경로는 어떻게 되나요? | 방화벽 오픈 필요 여부 |

---

## 네트워크 팀에 전달할 요약 메시지 (복사용)

> 안녕하세요, 쿠버네티스 클러스터(190대 규모) 구축을 준비 중입니다. 
> CNI로 Cilium을 사용하고, BGP 기반으로 네트워크를 구성하려고 합니다.
> 
> 확인이 필요한 사항:
> 
> **BGP 관련**
> - 서버 ↔ ToR 스위치 간 BGP 피어링 가능 여부
> - 클러스터용 Private ASN 할당 가능 여부 (64512-65534 범위)
> - ToR 스위치의 ASN
> - BFD 지원 여부
> 
> **토폴로지 관련**
> - 네트워크 구성도 (Spine-Leaf 구조 확인)
> - ECMP 활성화 여부
> - 서버 NIC 6포트 연결 계획 (본딩, VLAN 등)
> 
> **IP 대역 관련**
> - API Server VIP용 IP 1개
> - Service LoadBalancer용 IP 대역 (/24 이상)
> - Pod 네트워크 CIDR 할당 또는 오버레이 사용 여부
> - 노드 IP 대역
> 
> 관련 자료나 미팅 가능 여부 확인 부탁드립니다.

---

## 다음 단계

네트워크 팀에서 답변을 받아오시면, 그 정보를 바탕으로 다음을 진행합니다:

1. **API Server LB 옵션 최종 확정** (kube-vip BGP vs 다른 방식)
2. **네트워크 아키텍처 상세 설계** (Cilium 설정 포함)

지금까지 확정된 사항을 정리하면:

| 항목 | 결정 |
|------|------|
| 컨트롤 플레인 노드 수 | 5대 |
| etcd 배치 | Stacked (컨트롤 플레인과 동일 노드) |
| API Server LB | 네트워크 팀 확인 후 결정 (kube-vip BGP 유력) |

네트워크 팀 답변이 오면 공유해주세요!
